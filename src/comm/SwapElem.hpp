#ifndef _SWAP_ELEM
#define _SWAP_ELEM

#include "common.h"

#include <iosfwd>

class ParallelSetup;

///////////////////////////////////////////////////////////////////////////////
//                                 SWAP ELEM                                 //
///////////////////////////////////////////////////////////////////////////////
class SwapElem
{
    ///////////////////////////////////////////////////////////////////////////
    //                            PUBLIC INTERFACE                           //
    ///////////////////////////////////////////////////////////////////////////
public:
    // ________________________________________________________________________
    SwapElem(
        nat    gen,
        nat    idA,
        nat    idB,
        double r);
    // ________________________________________________________________________
    nat                                    getGen() const;
    // ________________________________________________________________________
    bool                                   affectsChain(
        nat id) const;
    // ________________________________________________________________________
    nat                                    getOne() const;
    // ________________________________________________________________________
    nat                                    getOther() const;
    // ________________________________________________________________________
    double                                 getR() const;
    // ________________________________________________________________________
    nat                                    getMyId(
        ParallelSetup& pl,
        nat            runid) const;
    // ________________________________________________________________________
    nat                                    getRemoteId(
        ParallelSetup& pl,
        nat            runid) const;
    // ________________________________________________________________________
    bool                                   onlyOneIsMine(
        ParallelSetup& pl,
        nat            runid) const;
    // ________________________________________________________________________
    bool                                   bothAreMine(
        ParallelSetup& pl,
        nat            runid) const;
    // ________________________________________________________________________
    friend bool                            operator==(
        const SwapElem&elemA,
        const SwapElem&elemB);
    // ________________________________________________________________________
    friend std::ostream&                   operator<<(
        std::ostream&  out,
        const SwapElem&elem);

    ///////////////////////////////////////////////////////////////////////////
    //                              PRIVATE DATA                             //
    ///////////////////////////////////////////////////////////////////////////
private:
    nat    _gen;
    nat    _idA;
    nat    _idB;
    double _r;
};


#endif
